@import "breakpoint";
@import "config";

/* Props */
$bloop2x-use-percentages: true;
$bloop2x-spacing: 4px;
$bloop2x-sprite: sprite-map("bloop2x/*.png");
@import "bloop2x/*.png";
$bloop2x-sprite-width: sprite_width($bloop2x-sprites);
$bloop2x-sprite-height: sprite_height($bloop2x-sprites);

$bloop-use-percentages: true;
$bloop-spacing: 2px;
@import "bloop/*.png";
$bloop-sprite-width: sprite_width($bloop-sprites);

.bloop {
  filter: $blueFilter;
  overflow: hidden;
  position: relative;
}

@mixin make-bloop($imgName) {
  $iWidth: image-width(sprite-file($bloop2x-sprites, #{$imgName}));
  $iHeight: image-height(sprite-file($bloop2x-sprites, #{$imgName}));
  width: $iWidth/2;
  height: $iHeight/2;
  @include bloop-sprite(#{$imgName});
  @include set-bg-width($bloop-sprite-width, $bloop-sprites, #{$imgName});
}

@mixin set-bg-width($sprites-width, $sprite, $sprite-image) {
    $spriteX: percentage($sprites-width / image-width(sprite-file($sprite, $sprite-image)));
    background-size: $spriteX auto;
}

@media only screen and ( -webkit-min-device-pixel-ratio: 1.3 ),
       only screen and (    min--moz-device-pixel-ratio: 1.3 ),
       only screen and (      -o-min-device-pixel-ratio: 2.6/2 ),
       only screen and (         min-device-pixel-ratio: 1.3 ),
       only screen and ( min-resolution: 124.8dpi ),
       only screen and ( min-resolution: 1.3dppx ) {

  .bloop {
    background-image: sprite-url($bloop2x-sprite);
  }
}